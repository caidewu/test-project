/*! 小秋千 ©2016 版本所有 */
!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/assets/",t(0)}({0:function(e,t,n){function i(){var e=new r({time:3e4,callback:function(e,t){s.countdownIng=!t,s.countdownTime=e}});return e.start(),s.countdownIng=!0,e}var o=n(43),r=n(44),a=n(93),s=new Vue({el:"#app_container",data:{mobile:"",vcode:"",countdownIng:!1,countdownTime:0,count:0},computed:{btnSmsText:function(){var e="获取验证码";return this.count>0&&(e="重新获取"),this.countdownIng?"已发送("+this.countdownTime/1e3+"s)":e},vcodeEnable:function(){return!this.countdownIng&&o.isMobile($.trim(this.mobile))},loginEnable:function(){return o.isMobile($.trim(this.mobile))&&$.trim(this.vcode).length>0}},methods:{login:function(){var e=$.trim(this.mobile),t=$.trim(this.vcode);if(!e)return $.toast("请输入手机"),void $("#mobile").focus();if(!o.isMobile(e))return $.toast("手机号码格式有误"),void $("#mobile").focus();if(!t)return $.toast("请输入验证码"),void $("#vcode").focus();var n={username:e,validation_code:t,channel:$.Utils.getParam("channel")};$.Ajax.post({url:"/login",data:n,loading:"正在登录...",success:function(e,t,n){switch(e){case 0:var i=$.Utils.getParam("callback_url")||"/";location.replace(i);break;default:$.toast(t)}}})},sendSmsVCode:function(){var e=this,t="/common/send_verify_code",n={type:"sms",mobile_phone:$.trim(this.mobile)};$.Ajax.post({url:t,data:n,loading:"正在发送...",success:function(t,n,o){e.count++,0===t?(i(),$.toast("验证码短信已发出，请留意查收")):$.toast(n)},error:function(){$.Ajax.showError.apply(null,arguments)}})},sendVoiceVCode:function(){var e="/common/send_verify_code",t={type:"voice",mobile_phone:$.trim(this.mobile)};$.Ajax.post({url:e,data:t,loading:"正在发送...",success:function(e,t,n){switch(e){case 0:$.toast("电话拨打中，请留意来电"),i();break;default:$.toast(t)}},error:function(){$.Ajax.showError.apply(null,arguments)}})}}}),c={title:"想让孩子变聪明，这件事一定要让爸爸做",content:"爸爸陪玩少，孩子会变笨。教你一招，让爸爸从不主动带娃到爱上带娃",image:$.Utils.getFullUrl(a)};$.Platform.initShare(c)},43:function(e,t){e.exports={isMobile:function(e){return/^1\d{10}$/.test(e)},isEmail:function(e){return/^[\d\w\._\-]+@([\d\w\._\-]+\.)+[\w]+$/i.test(e)}}},44:function(e,t,n){function i(e){var t={interval:1e3,time:6e4,zeroFill:!0};e=$.extend(t,e),this.options=e,this.running=!1}var o=n(45);i.prototype={constructor:i,start:function(){function e(){if(n.endTime){var e=new Date,a=r>e,s=null;e>=o?t.stop():(s=a?t.getTimeDiff(e,r,i):t.getTimeDiff(e,o,i),$.isFunction(n.callback)&&n.callback(s)),!a&&e-r<1e3&&$.isFunction(n.onStart)&&n.onStart()}else{var c=!1;n.time-=n.interval,n.time<=0&&(c=!0,t.clear()),$.isFunction(n.callback)&&n.callback(n.time,c)}}var t=this,n=this.options,i=n.zeroFill,o=n.endTime,r=n.startTime||null;this.clear(),this._timer=setInterval(e,n.interval),e(),this.running=!0},stop:function(){this.clear(),$.isFunction(this.options.onTimeout)&&this.options.onTimeout()},clear:function(){this._timer&&clearInterval(this._timer),this.running=!1},getTimeDiff:function(e,t,n){var i=parseInt(o.dateDiff(t,e,"d"),10),r=parseInt(o.dateDiff(t,e,"h"),10)-24*i,a=parseInt(o.dateDiff(t,e,"m"),10)-60*(24*i+r),s=parseInt(o.dateDiff(t,e,"s"),10)-60*(60*(24*i+r)+a);return{day:n&&i<10?"0"+i:i,hour:n&&r<10?"0"+r:r,minute:n&&a<10?"0"+a:a,second:n&&s<10?"0"+s:s,diff:(+t-+e)/1e3}}},e.exports=i},45:function(e,t){e.exports={str2Date:function(e,t){t=t||"%Y-%M-%d %h:%m:%s",t=t.replace(/\-/g,"\\-"),t=t.replace(/\|/g,"\\|"),t=t.replace(/\./g,"\\."),t=t.replace(/\+/g,"\\+"),t=t.replace("%Y","(\\d{4})"),t=t.replace("%M","(\\d{1,2})"),t=t.replace("%d","(\\d{1,2})"),t=t.replace("%h","(\\d{1,2})"),t=t.replace("%m","(\\d{1,2})"),t=t.replace("%s","(\\d{1,2})");var n=new RegExp("^"+t+"$"),i=n.exec(e),o=(i[1]||0)-0,r=(i[2]||1)-1,a=(i[3]||0)-0,s=(i[4]||0)-0,c=(i[5]||0)-0,l=(i[6]||0)-0;return new Date(o,r,a,s,c,l)},date2Str:function(e,t,n){var i=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),a=e.getHours(),s=e.getMinutes(),c=e.getSeconds();return n&&(o=o<10?"0"+o:o,r=r<10?"0"+r:r,a=a<10?"0"+a:a,s=s<10?"0"+s:s,c=c<10?"0"+c:c),t=t||"%Y-%M-%d %h:%m:%s",t=t.replace(/%Y/g,i).replace(/%M/g,o).replace(/%d/g,r).replace(/%h/g,a).replace(/%m/g,s).replace(/%s/g,c)},dateDiff:function(e,t,n){var i=0;switch(n){case"Y":i=e.getFullYear()-t.getFullYear();break;case"M":i=12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth());break;case"d":i=(e-t)/864e5;break;case"h":i=(e-t)/36e5;break;case"m":i=(e-t)/6e4;break;case"s":i=(e-t)/1e3;break;default:i=e-t}return i},formatMillisecond:function(e){return{date:parseInt(e/864e5),hour:parseInt(e%864e5/36e5),minute:parseInt(e%36e5/6e4),second:parseInt(e%6e4/1e3)}},isLeapYear:function(e){return"date"==$.type(e)&&(e=e.getFullYear()),e%4===0&&e%100!==0||e%400===0}}},93:function(e,t,n){e.exports=n.p+"expand/shareIcon.jpg?249f3e9287ce77eb0bcd093d3a9f036f"}});